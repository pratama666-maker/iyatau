<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quiz Mental Softspoken vs Redflag</title>
<style>
  /* Reset & base */
  body, html {
    margin: 0; padding: 0; height: 100%; width: 100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    overflow-x: hidden;
    user-select: none;
  }
  #app {
    max-width: 700px;
    margin: 1rem auto;
    background: #222;
    border-radius: 12px;
    padding: 1.5rem 2rem 2.5rem 2rem;
    box-shadow: 0 8px 40px #ff00cc88;
    position: relative;
    z-index: 10;
  }
  h1 {
    font-weight: 900;
    font-size: 2.5rem;
    text-align: center;
    color: linear-gradient(90deg,#ff0080,#ff8f00);
    margin-bottom: 0.5rem;
    /* gradient text */
    background: linear-gradient(90deg, #ff0080, #ff8f00);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  h2 {
    margin-top: 0;
    font-weight: 600;
  }
  button {
    background: linear-gradient(90deg, #ff0055, #ff8f00);
    border: none;
    border-radius: 8px;
    padding: 0.7rem 1.3rem;
    font-size: 1.15rem;
    font-weight: 700;
    color: #fff;
    cursor: pointer;
    user-select: none;
    transition: transform 0.15s ease, background 0.3s ease;
    filter: drop-shadow(0 0 5px #ff0055aa);
    margin-top: 1rem;
  }
  button:focus {
    outline: 3px solid #ff8f0055;
  }
  button:hover {
    filter: drop-shadow(0 0 10px #ff8f00dd);
  }
   #annoyingLoadingScreen {
    position: fixed;
    inset: 0;
    background-color: #111;
    color: #ff4444;
    font-family: 'Courier New', monospace;
    font-size: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    user-select: none;
    z-index: 9999999;
    text-align: center;
    padding: 20px;
  }

  #loadingText {
    margin-bottom: 20px;
  }

  #dots {
    font-weight: bold;
    font-size: 2.5rem;
    color: #ff6600;
  }
  .question {
    margin-bottom: 1rem;
    font-size: 1.3rem;
    user-select: text;
  }
  .answers {
    display: flex;
    flex-wrap: wrap;
    gap: 0.7rem;
  }
  .answer-btn {
    flex: 1 1 calc(50% - 1rem);
    min-width: 130px;
    background: #330022;
    padding: 0.8rem;
    border-radius: 10px;
    color: #ff88bb;
    font-size: 1rem;
    user-select: none;
    box-shadow: 0 0 8px #aa0055aa inset;
    transition: background 0.25s ease, color 0.3s ease;
  }
  .answer-btn:hover {
    background: #660044;
    color: #ffddff;
  }
  .answer-btn.disabled {
    pointer-events: none;
    opacity: 0.5;
  }
  #typing-trap-input {
    width: 100%;
    padding: 0.8rem;
    font-size: 1rem;
    border-radius: 10px;
    border: none;
    margin-top: 0.8rem;
    resize: none;
    font-family: monospace;
  }
  #timer {
    font-weight: 700;
    font-size: 1.3rem;
    text-align: right;
    color: #ff4477;
    font-variant-numeric: tabular-nums;
  }
  #popup-mock {
    position: fixed;
    top: 15vh;
    left: 50%;
    transform: translateX(-50%);
    background: #330000dd;
    padding: 1rem 2rem;
    border-radius: 12px;
    color: #ff8899;
    font-size: 1.2rem;
    font-weight: 700;
    box-shadow: 0 0 20px #ff005599;
    z-index: 9998;
    user-select: none;
    display: none;
    text-align: center;
  }
  #bsod-fake {
    position: fixed;
    z-index: 9999;
    inset: 0;
    background: #0000cc;
    color: white;
    font-family: 'Consolas', monospace;
    font-size: 1.2rem;
    padding: 2rem;
    display: none;
    flex-direction: column;
    justify-content: center;
    user-select: none;
  }
  #bsod-fake > .title {
    font-weight: 900;
    font-size: 3rem;
    margin-bottom: 1rem;
  }
  #bsod-fake > .desc {
    font-size: 1.4rem;
    margin-bottom: 1.2rem;
  }
  #meme-overlay, #jumpscare {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 9997;
    display: none;
    pointer-events: none;
  }
  #meme-overlay img, #jumpscare img {
    max-width: 320px;
    max-height: 240px;
    border-radius: 18px;
    box-shadow: 0 0 30px #ff3399ee;
  }
  #jumpscare-sound {
    display: none;
  }
  #ads-popup {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    background: #fff4f8;
    color: #990022;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    box-shadow: 0 0 10px #ff4488aa;
    z-index: 2000;
    max-width: 250px;
    font-weight: 700;
    font-size: 1rem;
    user-select: none;
  }
  #ads-popup button {
    background: #ff2255;
    font-size: 0.9rem;
    padding: 0.4rem 0.8rem;
    border-radius: 8px;
    margin-left: 12px;
    margin-top: 8px;
    display: inline-block;
    cursor: pointer;
  }
  #ads-popup button:hover {
    background: #ff4466;
  }
  #result-screen {
    margin-top: 2rem;
    font-size: 1.5rem;
    font-weight: 700;
    text-align: center;
    color: #ff66aa;
  }
  /* Flicker red overlay animation for pressure */
  #flicker-red {
    pointer-events: none;
    position: fixed;
    inset: 0;
    background: #ff005540;
    animation: flicker 1.5s infinite alternate;
    z-index: 9995;
    display: none;
  }
  @keyframes flicker {
    0%, 100% {opacity: 0.4;}
    50% {opacity: 0.7;}
  }
  
  /* Cursor lag container */
  #cursor-lag-wrapper {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    pointer-events: none;
    z-index: 9996;
  }
</style>
</head>
<body>
  <div id="annoyingLoadingScreen">
  <div id="loadingMessage">Sinyal apa kura-kura lelet amat...</div>
  <div id="loadingText">Loading<span id="dots">...</span></div>
</div>
  
<div id="app" role="main" aria-labelledby="title">
  <h1 id="title">Mental vs Pengetahuan Quiz</h1>
  <div id="timer" aria-live="polite">Waktu: 60</div>
  <div id="question-container" role="region" aria-label="Pertanyaan">
    <!-- Question and answers dynamically injected -->
  </div>
  <div id="typing-trap-container" style="display:none;">
    <label for="typing-trap-input">Jawaban Esai:</label>
    <textarea id="typing-trap-input" rows="3" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
  </div>
  <button id="next-btn" style="display:none;">Next</button>
  <div id="result-screen" role="alert" aria-live="assertive"></div>
</div>

<div id="popup-mock"></div>
<div id="bsod-fake" role="alert" aria-live="assertive">
  <div class="title">:(</div>
  <div class="desc">Your PC ran into a problem that it couldn't handle.<br>
  We just collect some error info, then restart the quiz.</div>
  <div class="desc">Stop code: QUIZ_FAKE_BSOD_420</div>
</div>
<div id="meme-overlay"><img src="" alt="meme" /></div>
<div id="jumpscare"><img src="" alt="jumpscare image" /><audio id="jumpscare-sound" preload="auto"></audio></div>
<div id="flicker-red"></div>

<div id="ads-popup" style="display:none;">
  <div>Iklan: Dapatkan Kapsul Kesabaran Gratis!</div>
  <button id="ads-close-btn">Tutup</button>
</div>

  <script>
    const audios = {
  hackWarning: new Audio('path/to/seram.mp3')
};

function playAudio(audio, volume = 1) {
  audio.volume = volume;
  audio.pause();          // Pastikan audio berhenti dulu sebelum diputar ulang
  audio.currentTime = 0;  // Set waktu ke awal
  audio.play().catch(e => {
    // Handle error (misalnya browser memblokir autoplay)
    console.warn('Audio play error:', e);
  });
}
    </script>
  
  <script>
  const loadingScreen = document.getElementById('annoyingLoadingScreen');
  const loadingText = document.getElementById('loadingText');
  const dots = document.getElementById('dots');
  const loadingMessage = document.getElementById('loadingMessage');

  let dotCount = 0;
  let loadingState = 0; // 0=loading, 1=loading lagi
  let loadingDone = false;

  // Fungsi animasi titik-titik ...
  function animateDots() {
    dotCount = (dotCount + 1) % 4; // 0..3
    dots.textContent = '.'.repeat(dotCount);
  }

  // Loop animasi titik setiap 500ms
  const dotsInterval = setInterval(animateDots, 500);

  // Fungsi ngeselin yang bikin loading kadang selesai, tapi loading lagi
  function annoyingLoadingLoop() {
    if (loadingDone) return;

    if (loadingState === 0) {
      // Tampilkan "Loading..."
      loadingText.textContent = 'Loading' + dots.textContent;
      loadingMessage.textContent = 'Sinyal apa kura-kura lelet amat...';
      // Setelah 2-4 detik, ganti ke loading lagi
      setTimeout(() => {
        loadingState = 1;
        annoyingLoadingLoop();
      }, 2000 + Math.random() * 2000);
    } else {
      // Tampilkan "Loading lagi..."
      loadingText.textContent = 'Loading lagi' + dots.textContent;
      loadingMessage.textContent = 'Udah beres? Ealah, loading lagi...';
      // Setelah 2-4 detik, balik ke loading biasa
      setTimeout(() => {
        loadingState = 0;
        annoyingLoadingLoop();
      }, 2000 + Math.random() * 2000);
    }
  }

  annoyingLoadingLoop();

  // Buat demo selesai loading setelah 15 detik (hapus ini kalau mau infinite)
  setTimeout(() => {
    loadingDone = true;
    clearInterval(dotsInterval);
    loadingScreen.style.display = 'none';
    alert('Loading selesai! Akhirnya...');
  }, 15000);
</script>
  
<script>
(() => {
  // Globally used variables
  const questions = [
    // Simple questions with 4 answers, one correct (index)
    {
      id: 1,
      text: "Apa ibu kota Indonesia?",
      answers: ["Jakarta", "Bandung", "Surabaya", "Medan"],
      correctIndex: 0,
      type: 'mcq'
    },
    {
      id: 2,
      text: "Berapakah 5 + 7?",
      answers: ["10", "11", "12", "13"],
      correctIndex: 2,
      type: 'mcq'
    },
    {
      id: 3,
      text: "Tuliskan warna dari suara yang tidak pernah terdengar di planet yang tidak ada.",
      answers: [],
      correctIndex: null,
      type: 'essay'
    } // impossible question - always wrong
  ];

  // State
  let currentQIndex = 0;
  let score = 0;
  let mistakes = 0;
  let softspokenFailCount = 0; // number of traps user failed
  let answersLocked = false;
  let timerId = null;
  let timeLeft = 60;
  let typingTrapActive = false;
  let flickerInterval = null;
  let failedFinalAnswer = false;
  let isDevToolsOpen = false;
  let closeBetrayTabCount = 0;
  const MAX_CLOSE_BETRAY_TABS = 10;

  // Elements
  const app = document.getElementById('app');
  const timerEl = document.getElementById('timer');
  const questionContainer = document.getElementById('question-container');
  const nextBtn = document.getElementById('next-btn');
  const typingTrapContainer = document.getElementById('typing-trap-container');
  const typingTrapInput = document.getElementById('typing-trap-input');
  const popupMock = document.getElementById('popup-mock');
  const bsodFake = document.getElementById('bsod-fake');
  const memeOverlay = document.getElementById('meme-overlay');
  const memeImg = memeOverlay.querySelector('img');
  const jumpscareOverlay = document.getElementById('jumpscare');
  const jumpscareImg = jumpscareOverlay.querySelector('img');
  const jumpscareSound = document.getElementById('jumpscare-sound');
  const flickerRed = document.getElementById('flicker-red');
  const adsPopup = document.getElementById('ads-popup');
  const adsCloseBtn = document.getElementById('ads-close-btn');
  const resultScreen = document.getElementById('result-screen');

  // Audio sources
  // For jumpscare sounds, Rickroll (shorter part), and other effects, using external URLs
  const audios = {
    jerk: "https://actions.google.com/sounds/v1/alarms/beep_short.ogg",
    scream: "https://freesound.org/data/previews/415/415209_5121236-lq.mp3",
    laugh: "https://actions.google.com/sounds/v1/human_voices/man_laugh.ogg",
    babyCry: "https://actions.google.com/sounds/v1/animals/baby_crying.ogg",
    rickroll: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
    glitch: "https://actions.google.com/sounds/v1/impacts/glitch.ogg",
    hackWarning: "https://actions.google.com/sounds/v1/alarms/digital_alarm.ogg"
  };

  // Meme images base URLs
  const memes = [
    {src: "https://i.imgur.com/qYgVwT7.png", alt: "You failed successfully!"}, // meme 1 - You failed successfully
    {src: "https://i.imgur.com/ktrZxAI.png", alt: "Skill Issue"}, // meme 2 - Skill Issue
    {src: "https://i.imgur.com/WfLz2wg.png", alt: "Gak usah mikir, otakmu udah surrender duluan."}, // meme 3
    {src: "https://i.imgur.com/nt0d4bY.png", alt: "SALAAAH! Gak lulus SD ya?"}, // meme 4 - jumpscare face
    {src: "https://i.imgur.com/6psJH4p.png", alt: "Soekarno ngebelalak"} // meme 5 - jumpscare face
  ];

  // Utility functions
  function randomFromArray(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  // Show popup mock message
  function showPopupMock(text, duration=2000) {
    popupMock.textContent = text;
    popupMock.style.display = 'block';
    setTimeout(() => {
      popupMock.style.display = 'none';
    }, duration);
  }

  // Show fake BSOD for a moment and restart quiz
  function showFakeBSODAndRestart() {
    bsodFake.style.display = 'flex';
    playAudio(audios.glitch, 3);
    setTimeout(() => {
      bsodFake.style.display = 'none';
      restartQuiz();
    }, 4000);
  }

  // Play an audio by url or element src, optionally stop after seconds
  function playAudio(url, stopAfterSeconds=null) {
    const audio = new Audio(url);
    audio.volume = 0.3;
    audio.play();
    if(stopAfterSeconds !== null) {
      setTimeout(() => {
        audio.pause();
        audio.currentTime = 0;
      }, stopAfterSeconds * 1000);
    }
    return audio;
  }

  // Show meme overlay with meme by index for some seconds
  function showMeme(index, duration=2500) {
    const meme = memes[index];
    if(!meme) return;
    memeImg.src = meme.src;
    memeImg.alt = meme.alt;
    memeOverlay.style.display = "block";
    setTimeout(() => {
      memeOverlay.style.display = "none";
    }, duration);
  }

  // Show jumpscare overlay with meme index and play sound
  function showJumpscare(index, soundUrl) {
    const meme = memes[index];
    if(!meme) return;
    jumpscareImg.src = meme.src;
    jumpscareImg.alt = meme.alt;
    jumpscareOverlay.style.display = "block";
    jumpscareSound.src = soundUrl;
    jumpscareSound.volume = 0.7;
    jumpscareSound.play();
    setTimeout(() => {
      jumpscareOverlay.style.display = "none";
      jumpscareSound.pause();
      jumpscareSound.currentTime = 0;
    }, 3000);
  }

  // Disable all answer buttons
  function disableAnswers() {
    const buttons = document.querySelectorAll('.answer-btn');
    buttons.forEach(btn => btn.classList.add('disabled'));
    answersLocked = true;
  }

  // Enable answer buttons
  function enableAnswers() {
    const buttons = document.querySelectorAll('.answer-btn');
    buttons.forEach(btn => btn.classList.remove('disabled'));
    answersLocked = false;
  }

  // Render current question to DOM
  function renderQuestion() {
    nextBtn.style.display = "none";
    typingTrapContainer.style.display = "none";
    typingTrapInput.value = "";
    enableAnswers();
    const q = questions[currentQIndex];
    if(!q) return;
    let html = `<div class="question">${q.text}</div>`;
    if(q.type === 'mcq') {
      html += '<div class="answers">';
      q.answers.forEach((ans, idx) => {
        html += `<button type="button" class="answer-btn" data-idx="${idx}">${ans}</button>`;
      });
      html += '</div>';
    } else if(q.type === 'essay') {
      // show textarea for typing trap essay style
      typingTrapContainer.style.display = "block";
    }
    questionContainer.innerHTML = html;

    // Add click listeners to answer buttons and implement moving button trick on mouseover or click
    const answerBtns = document.querySelectorAll('.answer-btn');
    answerBtns.forEach(btn => {
      btn.addEventListener('click', answerClickHandler);
      // Add mousemove to move button sometimes
      btn.addEventListener('mousemove', movingButtonHandler);
      btn.dataset.moveCount = 0;
    });

    // Focus typing input if essay
    if(q.type === 'essay') {
      typingTrapInput.focus();
    }

    // Trigger possible visual lag effect (mouse cursor lag)
  }

  // Handle answer button click event
  function answerClickHandler(e) {
    if(answersLocked) return;
    const q = questions[currentQIndex];
    if(!q || q.type !== 'mcq') return;
    const clickedBtn = e.currentTarget;
    const selectedIndex = parseInt(clickedBtn.dataset.idx);

    // intentionally add delay to simulate lag/delay and shifting wrong detection
    // Sometimes ignore the current click and pick previous click
    const delayMs = 400;
    disableAnswers();
    setTimeout(() => {
      // Sometimes trigger fake freeze, meme, popup, or jumpscare on wrong
      if(selectedIndex === q.correctIndex) {
        score++;
        showPopupMock("Jawaban Benar! Jangan mudah terpancing!", 1400);
        proceedNext();
      } else {
        mistakes++;
        // Show meme or jumpscare randomly
        if(Math.random() < 0.5) {
          showMeme(Math.floor(Math.random() * 3));
        } else {
          const jpIdx = 3 + Math.floor(Math.random() * 2);
          showJumpscare(jpIdx, audios.scream);
        }
        showPopupMock("Yakin mau jawab ini? Lo aja hidupnya masih ragu.", 1800);
        // chance to fake freeze + BSOD
        if(Math.random() < 0.3) {
          showFakeBSODAndRestart();
        } else {
          proceedNext();
        }
      }
    }, delayMs);
  }

  // Moving button handler to move button randomly on mousemove  with limit
  function movingButtonHandler(e) {
    const btn = e.currentTarget;
    let moveCount = parseInt(btn.dataset.moveCount) || 0;
    if(moveCount >= 10) return; // limit moves
    if(Math.random() < 0.35) { // 35% chance to jump
      const parentRect = btn.parentElement.getBoundingClientRect();
      const maxX = parentRect.width - btn.offsetWidth;
      const maxY = parentRect.height - btn.offsetHeight;
      const randX = Math.random() * maxX;
      const randY = Math.random() * maxY;
      btn.style.position = 'relative';
      btn.style.left = `${randX}px`;
      btn.style.top = `${randY}px`;
      btn.dataset.moveCount = moveCount + 1;
    }
  }

  // Proceed to next question or show result
  function proceedNext() {
    currentQIndex++;
    nextBtn.style.display = "inline-block";
  }

  // On next button click, render next question or finish
  nextBtn.addEventListener('click', () => {
    if(currentQIndex >= questions.length) {
      finishQuiz();
    } else {
      renderQuestion();
    }
  });

  // Restart quiz function
  function restartQuiz() {
    currentQIndex = 0;
    score = 0;
    mistakes = 0;
    failedFinalAnswer = false;
    timeLeft = 60;
    timerEl.textContent = `Waktu: ${timeLeft}`;
    resultScreen.textContent = '';
    renderQuestion();
    startTimer();
  }

  // Typing trap logic - randomly replace letters with typos
  function onTypingTrapInput(e) {
    if(!typingTrapActive) return;
    const val = e.target.value;
    if(!val) return;
    // randomly change characters
    const typoMap = {'a':'4','i':'1','o':'0','e':'3','s':'5','l':'1','t':'7','g':'9','b':'8','d':'0','r':'2'};
    let newVal = '';
    for(let c of val) {
      if(Math.random() < 0.3 && typoMap[c.toLowerCase()]) {
        newVal += typoMap[c.toLowerCase()];
      } else {
        newVal += c;
      }
    }
    if(newVal !== val) {
      e.target.value = newVal;
    }
  }

  // Timer logic with manipulative behavior
  function startTimer() {
    timerEl.textContent = `Waktu: ${timeLeft}`;
    if(timerId) clearInterval(timerId);
    timerId = setInterval(() => {
      if(timeLeft <= 0) {
        clearInterval(timerId);
        finishQuiz();
        return;
      }
      // Manipulation: sometimes skip seconds or reverse count randomly
      if(Math.random() < 0.15) {
        if(Math.random() < 0.5) {
          timeLeft -= 2; // skip 1 second extra
        } else {
          timeLeft += 1; // go forward for 1 second
          if(timeLeft > 60) timeLeft = 60;
        }
      } else {
        timeLeft -= 1;
      }
      if(timeLeft < 0) timeLeft = 0;
      timerEl.textContent = `Waktu: ${timeLeft}`;
    }, 1000);
  }

  // Flicker red overlay toggle on to add pressure
  function startFlickerPressure() {
    flickerRed.style.display = 'block';
    if(flickerInterval) clearInterval(flickerInterval);
    flickerInterval = setInterval(() => {
      flickerRed.style.display = flickerRed.style.display === 'none' ? 'block' : 'none';
    }, 1400);
  }
  function stopFlickerPressure() {
    flickerRed.style.display = 'none';
    if(flickerInterval) clearInterval(flickerInterval);
  }

  // Mouse cursor lag simulation - move real cursor with delay - done by moving a custom cursor element
  let lagCursor = null;
  let lagCursorX = 0, lagCursorY = 0;
  let realCursorX = 0, realCursorY = 0;
  let lagCursorInitialized = false;
  function initCursorLag() {
    if(lagCursorInitialized) return;
    lagCursorInitialized = true;
    lagCursor = document.createElement('div');
    lagCursor.style.position = 'fixed';
    lagCursor.style.top = '0';
    lagCursor.style.left = '0';
    lagCursor.style.width = '12px';
    lagCursor.style.height = '12px';
    lagCursor.style.borderRadius = '50%';
    lagCursor.style.pointerEvents = 'none';
    lagCursor.style.backgroundColor = '#ff0055';
    lagCursor.style.zIndex = '9999';
    lagCursor.style.filter = 'drop-shadow(0 0 4px #ff3399bb)';
    document.body.appendChild(lagCursor);

    window.addEventListener('mousemove', e => {
      realCursorX = e.clientX;
      realCursorY = e.clientY;
    });
    function animate() {
      lagCursorX += (realCursorX - lagCursorX) * 0.15;
      lagCursorY += (realCursorY - lagCursorY) * 0.15;
      lagCursor.style.left = (lagCursorX - 6) + 'px';
      lagCursor.style.top = (lagCursorY - 6) + 'px';
      requestAnimationFrame(animate);
    }
    animate();
  }

  // Close button betrayal - we simulate user clicking close browser by closing quiz screen and opening many meme tabs
  window.addEventListener('beforeunload', e => {
    e.preventDefault();
    openMemeTabs();
    return '';
  });

  function openMemeTabs() {
    if(closeBetrayTabCount >= MAX_CLOSE_BETRAY_TABS) return;
    closeBetrayTabCount++;
    for(let i=0; i<10; i++) {
      window.open('https://i.imgur.com/ktrZxAI.png', '_blank');
    }
  }

  // Detect devtools open (simple approach)
  function devtoolsDetection() {
    let threshold = 160;
    setInterval(() => {
      const widthThreshold = window.outerWidth - window.innerWidth > threshold;
      const heightThreshold = window.outerHeight - window.innerHeight > threshold;
      if(widthThreshold || heightThreshold) {
        if(!isDevToolsOpen) {
          isDevToolsOpen = true;
          triggerDevtoolsPanic();
        }
      } else {
        isDevToolsOpen = false;
      }
    }, 1000);
  }

  // Devtools open triggers red screen hacker detected
function showRandomRedScreen() {
  const delay = Math.random() * 10000; // Muncul acak antara 0-10 detik

  setTimeout(() => {
    const redScreen = document.createElement('div');
    redScreen.style.position = 'fixed';
    redScreen.style.inset = 0;
    redScreen.style.backgroundColor = '#cc0000';
    redScreen.style.color = 'white';
    redScreen.style.fontFamily = 'Courier New, monospace';
    redScreen.style.fontSize = '2rem';
    redScreen.style.display = 'flex';
    redScreen.style.alignItems = 'center';
    redScreen.style.justifyContent = 'center';
    redScreen.style.flexDirection = 'column';
    redScreen.style.zIndex = '10000';
    redScreen.style.textAlign = 'center';
    redScreen.style.userSelect = 'none';
    redScreen.style.animation = 'shake 0.5s infinite';
    redScreen.innerHTML = `
      <div class="glitch-text">HACKER DETECTED</div>
      <div class="glitch-text">WE KNOW YOUR IP</div>
      <div class="glitch-text">WE'RE IN YOUR WALLS.</div>
    `;

    document.body.appendChild(redScreen);

    // Tambahkan style CSS untuk glitch dan getaran
    const style = document.createElement('style');
    style.textContent = `
      @keyframes shake {
        0% { transform: translate(1px, 1px); }
        10% { transform: translate(-1px, -2px); }
        20% { transform: translate(-3px, 0px); }
        30% { transform: translate(3px, 2px); }
        40% { transform: translate(1px, -1px); }
        50% { transform: translate(-1px, 2px); }
        60% { transform: translate(-3px, 1px); }
        70% { transform: translate(3px, 1px); }
        80% { transform: translate(-1px, -1px); }
        90% { transform: translate(1px, 2px); }
        100% { transform: translate(1px, -2px); }
      }

      .glitch-text {
        position: relative;
        display: inline-block;
        color: white;
        animation: glitch 1s infinite;
      }

      @keyframes glitch {
        0% {
          text-shadow: 2px 0 red, -2px 0 cyan;
        }
        20% {
          text-shadow: -2px -1px red, 2px 1px cyan;
        }
        40% {
          text-shadow: 2px 2px red, -2px -2px cyan;
        }
        60% {
          text-shadow: -1px 1px red, 1px -1px cyan;
        }
        80% {
          text-shadow: 0 0 red, 0 0 cyan;
        }
        100% {
          text-shadow: 2px 0 red, -2px 0 cyan;
        }
      }
    `;
    document.head.appendChild(style);

    // Putar suara seram (jika ada)
    if (typeof playAudio === 'function' && audios?.hackWarning) {
      playAudio(audios.hackWarning, 6); // Volume bisa kamu sesuaikan
    }

    // Hapus setelah 10 detik
    setTimeout(() => {
      redScreen.remove();
      style.remove();
    }, 2000);
  }, delay);
}

// Contoh: panggil secara berkala setiap 30 detik (dengan kemunculan acak di dalamnya)
setInterval(() => {
  showRandomRedScreen();
}, 70000);


  // Show annoying ads that move close button randomly (every second move)
  function showAdsPopup() {
    adsPopup.style.display = 'block';
    let closeBtnMove = false;
    adsCloseBtn.style.position = 'relative';
    adsCloseBtn.style.left = '0px';
    adsCloseBtn.style.top = '0px';
    let moveCount = 0;
    const moveInterval = setInterval(() => {
      if(Math.random() < 0.5) {
        const posX = (Math.random() * 100) - 50;
        const posY = (Math.random() * 30) - 15;
        adsCloseBtn.style.left = posX + 'px';
        adsCloseBtn.style.top = posY + 'px';
      } else {
        adsCloseBtn.style.left = '0px';
        adsCloseBtn.style.top = '0px';
      }
      moveCount++;
      if(moveCount > 15) {
        clearInterval(moveInterval);
      }
    }, 700);
  }
  adsCloseBtn.addEventListener('click', () => {
    adsPopup.style.display = 'none';
  });

  // Finish quiz and show personality
  function finishQuiz() {
    clearInterval(timerId);
    nextBtn.style.display = "none";
    typingTrapContainer.style.display = "none";
    questionContainer.innerHTML = "";
    timerEl.textContent = "";

    let personality = '';
    if(score === questions.length && mistakes === 0) {
      personality = `ðŸ§  Dewa Sabar: Kamu memang robot atau guru PAUD. Softspoken legend!`;
    } else if(mistakes >= 5 || failedFinalAnswer) {
      personality = `ðŸ’€ Mental Fragile / ðŸ˜¡ Redflag Reactive: Kamu mudah terpancing dan gak cocok kerja di bawah tekanan. Cocok jadi konten meme aja.`;
    } else if(mistakes >= 2) {
      personality = `ðŸ˜ Netral, tapi ngambek: Kamu tahu kapan harus sabar dan marah, tapi itu kendali apa pura-pura?`;
    } else {
      personality = `ðŸ§˜ Softspoken Beneran atau Cuma Males Ribut?: Kamu sabar walau sering dijebak.`;
    }
    resultScreen.textContent = personality;

    // Show bonus question after small delay
    setTimeout(() => {
      if(!failedFinalAnswer) {
        showBonusQuestion();
      }
    }, 3000);
  }

  // Show bonus impossible question with glitched behavior
  function showBonusQuestion() {
    currentQIndex = questions.length - 1; // last question = impossible
    failedFinalAnswer = true;
    renderQuestion();

    // Override answer behavior to crash on any answer
    nextBtn.style.display = "inline-block";
    nextBtn.textContent = "Jawab & Crash!";
    nextBtn.onclick = () => {
      showPopupMock("KOK MAU SIH JAWAB YANG GINI???", 3000);
      // play glitch sound and fake crash bc answer is impossible
      playAudio(audios.glitch, 4);
      setTimeout(() => {
        showFakeBSODAndRestart();
      }, 3500);
    };

    // Show glitch audio, nightcore baby shark etc on background loop
    const bgMusic = new Audio("https://cdn.jsdelivr.net/gh/angryziber/BabySharkNightcore@master/BabySharkNightcore.mp3");
    bgMusic.loop = true;
    bgMusic.volume = 0.25;
    bgMusic.play();

    // Also, keep showing annoying popups periodically
    let popupInterval = setInterval(() => {
      if(!document.body.contains(adsPopup)) {
        clearInterval(popupInterval);
      } else {
        showAdsPopup();
      }
    }, 11000);
  }

  // Initialize event listeners
  function initEventListeners() {
    typingTrapInput.addEventListener('input', onTypingTrapInput);
  }

  // Initial rendering
  function init() {
    initEventListeners();
    renderQuestion();
    startTimer();
    startFlickerPressure();
    initCursorLag();
    devtoolsDetection();
  }

  // Start the app
  init();

})();
</script>
</body>
</html>

